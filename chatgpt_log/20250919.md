# 📝 LLM開発・スクレイピング・データ保存 ナレッジまとめ

## 1. LLM開発の理解
- **ゼロからモデル構築するのではなく**、既存のLLM（GPTなど）を利用する。
- **オープンブック試験方式**：自社データや外部APIを参照させて判断させる（RAG）。
- プロンプト設計や外部システム連携が「LLM開発」の中心。

---

## 2. スクレイピング実装（SUUMO）
- `suumo_mansion_review.py` を改修し、**物件名も取得**できるようにした。
- DOMの **cassette型** と **property_unit型** の両方に対応。
- ページネーション（`pn=`）や表示件数（`pc=100`）にも対応。

---

## 3. CSV保存の修正
- `storage.py` を修正し、**property_name（物件名）** を正式カラムに追加。
- `meta["物件名"]` が空なら `title` をフォールバックで使用。
- 出力は BOM 付きUTF-8、毎回新規のタイムスタンプ付きファイル名。

---

## 4. 開発フロー（GitHub）
- `dev_add_building_name` ブランチで動作確認済み。
- `dev` ブランチに統合（Pull Request → Merge）。
- **GitHubウェブUIだけで操作可能**：
  - ブランチを選択
  - 「Compare & pull request」
  - Base: `dev` / Compare: `dev_add_building_name`
  - レビュー後「Merge pull request」

---

## 5. セキュリティとリスク
- **暗号化ファイルをChatGPTに直接解凍させることは不可**。
- 対応策：クライアントで暗号化/復号し、GPTには平文のみ渡す。
- B2B顧客向け説明ポイント：
  - API利用データは学習に使われない
  - 外部に共有されない
  - 厳格な要件にはオンプレLLMや自社RAG構築も可能
- **スクレイピング運用の注意点**：
  - 利用規約・robots.txt の確認
  - リクエスト間隔（スリープ＋ランダム）
  - IPローテーション / VPNの利用
  - ログ管理とエラーハンドリング
  - 必要最小限のデータ取得
